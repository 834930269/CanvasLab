- [canvas 插值动效实验室](#canvas--------)
  * [Demo](#demo)
  * [目的与目标](#-----)
  * [技术解释](#----)
    + [为什么选择JS?](#-----js-)
    + [动效与插值](#-----)
    + [设计模式](#----)
  * [进度](#--)
- [参考](#--)


# canvas 插值动效实验室

-------------

基础核心架构支撑来自:  

[https://github.com/seymoe/canvas2d-ts](https://github.com/seymoe/canvas2d-ts "https://github.com/seymoe/canvas2d-ts")

Tag: 没了解协议问题,所以把基础核心架构的借鉴放在最上方

-------------  

**算法和语法是承载框架的砖头**  
**设计模式才是完成框架的核心**

## Demo

Demo地址:  

[http://www.be-sunshine.cn/Solvarg_lab/](http://www.be-sunshine.cn/Solvarg_lab/ "http://www.be-sunshine.cn/Solvarg_lab/")

文档完善中

## 目的与目标  

该项目将会从拟2D游戏引擎最基本的开始(借鉴的框架代码非常少,但是足够了)  
一步步的深入和细化和完善引擎架构,不完全实现游戏引擎的功能,但会逐步实现一些非常有趣的动效和基本的动画。  
直到做出一个基于Canvas的动画博客。 

RT,该Repo是一个实验性质的Repo,它**并不涉及前端的大部分知识**(因为没深入 Po主目前主要做Unity前端),最多的则是Canvas方面的知识  

该Repo的主要目的是实践中学习与整合常见的**动效**与**设计模式**

目的是建立一个类似于下图风格,最终以动画叙事的方式完成一个个人主页  

![](https://www.25xt.com/uploadfiles/ueditor/upload/image/20191205/1575517296842754.jpg)   

## 技术解释  
### 为什么选择JS?    
因为见效快,可以直接部署到Github Page上

### 动效与插值  

其实动效的轮子已经非常多了,但是为了更好的控制动效的实现,所以Po主计划造轮子。    
所以插值与动效是什么关系?  

**通俗来说,就是通过函数来控制图片的移动速率,时间作为x轴,随便整一个函数来计算下一个位置要跑到哪**

> 下面是很枯燥的环节,这里没介绍完全 后面有时间会认真的写

**举个栗子**  
Q: 我想实现一个图片从边缘先快后慢的移动到屏幕中央,怎么实现?  

A: 我们知道:  
① 不管网页还是Canvas都是一帧一帧的图片进行绘制的。  
② 我们可以通过代码控制图片的位置  
③ 我们可以通过**Time**控制隔多久执行一次绘制(或图片位置的移动)

假设我们只有两个值,比如 图片 从 P1坐标 移动到 P2坐标  

所以我们只有这两个值,但我们如何计算出这两个值中间的**图片的位置**呢？

插值其实就是 一个 数学函数曲线。

我们可以通过把时间作为**x**轴后根据时间计算出**y**,将y作为下一个位置的坐标值。

**如果不需要考虑原理只需要使用的话,插值的代码顶多十几行**

> 当然,据之前浏览很多大佬的实现方案,还有基于物理公式的实现...这个小白不懂,简单的效果只需要使用贝塞尔其实就够了


### 设计模式

为什么说设计模式非常重要  

因为我们考虑到一个项目达到一定程度后怎么才能更好地拆分?  
怎么才能更好的解耦合?  
怎么才能更好的区分模块?  
怎么才能让项目结构更清晰?  

这一系列问题,其实都是设计模式所需要考虑的.  
比如一些大型的前后端框架  
其实它底层的代码只做项目而言,我们也不需要去看  
但他们为什么能够将如此复杂的项目做完呢,为什么**刚入门的我们就想不到怎么实现这种框架呢**？  

这就是设计模式的故事了。


## 进度

目前支持的插值函数:  

- N次贝塞尔曲线
- 线性插值
- 牛顿插值

目前基础引擎支持的功能:  

- 基础2D图像绘制
- FPS统计
- 时间管理器
- 帧的生命周期
	- Update
	- Stop
	- Render
- 定时器



# 参考

[1] [Canvas 2D 渲染指南 - 用 TypeScript 实现一个程序入口 Application 类](https://blog.csdn.net/weixin_34310127/article/details/91444405)  
[2] [怎么理解贝赛尔曲线?](https://www.zhihu.com/question/29565629)  
[3] [Canvas-2d_ts Author: seymoe](https://github.com/seymoe/canvas2d-ts)

如在叙述中有不对  
真心希望能得到您的指导!  


在开篇前,Po主想说最近总结的一些思考  