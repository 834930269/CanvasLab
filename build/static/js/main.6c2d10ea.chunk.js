(this.webpackJsonpsolvarg=this.webpackJsonpsolvarg||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){"use strict";n.r(e);var i,s=n(6),a=(n(5),n(7)),o=n.n(a),r=(n(14),function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(e){var n=e.getCLS,i=e.getFID,s=e.getFCP,a=e.getLCP,o=e.getTTFB;n(t),i(t),s(t),a(t),o(t)}))}),u=n(0),c=n(1),h=n(3),l=n(2),v=function(){function t(){Object(u.a)(this,t)}return Object(c.a)(t,[{key:"Bezier",value:function(t,e){if(e.length<2)return e[0];for(var n=new Array,i=0;i<e.length-1;++i){var s=e[i].clone();s.scale(1-t),s.scaleAndAdd(e[i+1],t),n.push(s)}return this.Bezier(t,n)}}]),t}(),d=function t(e){Object(u.a)(this,t),this.id=-1,this.enabled=!1,this.callback=void 0,this.callbackData=void 0,this.countdown=0,this.timeout=0,this.onlyOnce=!1,this.callback=e},y=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(u.a)(this,t),this.values=void 0,this.values=new Float32Array([e,n])}return Object(c.a)(t,[{key:"toString",value:function(){return"[".concat(this.values[0],",").concat(this.values[1],"]")}},{key:"x",get:function(){return this.values[0]},set:function(t){this.values[0]=t}},{key:"y",get:function(){return this.values[1]},set:function(t){this.values[0]=t}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new t(e,n)}}]),t}();!function(t){t[t.MOUSEEVENT=0]="MOUSEEVENT",t[t.MOUSEDOWN=1]="MOUSEDOWN",t[t.MOUSEUP=2]="MOUSEUP",t[t.MOUSEMOVE=3]="MOUSEMOVE",t[t.MOUSEDRAG=4]="MOUSEDRAG",t[t.KEYBOARDEVENT=5]="KEYBOARDEVENT",t[t.KEYUP=6]="KEYUP",t[t.KEYDOWN=7]="KEYDOWN",t[t.KEYPRESS=8]="KEYPRESS"}(i||(i={}));var f=function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.MOUSEEVENT;Object(u.a)(this,t),this.altKey=void 0,this.ctrlKey=void 0,this.shiftKey=void 0,this.type=void 0,this.altKey=e,this.ctrlKey=n,this.shiftKey=s,this.type=a},p=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t,i){var s,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return Object(u.a)(this,n),(s=e.call(this,a,o,r)).button=void 0,s.canvasPosition=void 0,s.localPosition=void 0,s.canvasPosition=t,s.button=i,s.localPosition=y.create(),s}return n}(f),k=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t,s,a){var o,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],h=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return Object(u.a)(this,n),(o=e.call(this,r,c,h,i.KEYBOARDEVENT)).key=void 0,o.keyCode=void 0,o.repeat=void 0,o.key=t,o.keyCode=s,o.repeat=a,o}return n}(f),g=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var i;Object(u.a)(this,n);var s=t;(i=e.call(this,s)).context2D=void 0,i.context2D=i.canvas.getContext("2d");i.canvas.height=window.innerHeight/4*3,i.canvas.width=window.innerWidth/4*3;return null!=i.context2D&&(i.context2D.fillStyle="#53B7F6"),i}return n}(function(){function t(e){Object(u.a)(this,t),this._start=!1,this._appId=1,this._lastTime=void 0,this._startTime=void 0,this._fps=0,this.canvas=void 0,this.isSupportMouseMove=void 0,this._isMouseDown=void 0,this.timers=[],this._timerId=-1,this.canvas=e,this.canvas.addEventListener("mousedown",this,!1),this.canvas.addEventListener("mouseup",this,!1),this.canvas.addEventListener("mousemove",this,!1),window.addEventListener("keydown",this,!1),window.addEventListener("keyup",this,!1),window.addEventListener("keypress",this,!1),this.isSupportMouseMove=!1,this._isMouseDown=!1}return Object(c.a)(t,[{key:"stop",value:function(){this._start&&(cancelAnimationFrame(this._appId),this._appId=-1,this._lastTime=-1,this._startTime=-1,this._start=!1)}},{key:"isRunning",value:function(){return this._start}},{key:"start",value:function(){this._start||(this._start=!0,this._appId=-1,this._lastTime=-1,this._startTime=-1,this._appId=requestAnimationFrame(this.step.bind(this)))}},{key:"step",value:function(t){var e=this;-1===this._startTime&&(this._startTime=t),-1===this._lastTime&&(this._lastTime=t);var n=t-this._startTime,i=t-this._lastTime;0!==i&&(this._fps=1e3/i),i/=1e3,this._lastTime=t,this._handleTimers(i),this.Update(n,i),this.Render(),this._appId=requestAnimationFrame((function(t){e.step(t)}))}},{key:"Update",value:function(t,e){}},{key:"Render",value:function(){}},{key:"handleEvent",value:function(t){switch(t.type){case"mousedown":this._isMouseDown=!0,this.dispatchMouseDown(this._toCanvasMouseEvent(t));break;case"mouseup":this._isMouseDown=!1,this.dispatchMouseUp(this._toCanvasMouseEvent(t));break;case"mousemove":this.isSupportMouseMove&&this.dispatchMouseMove(this._toCanvasMouseEvent(t)),this._isMouseDown&&this.dispatchMouseDrag(this._toCanvasMouseEvent(t));break;case"keypress":this.dispatchKeyPress(this._toCanvasKeyBoardEvent(t));break;case"keydown":this.dispatchKeyDown(this._toCanvasKeyBoardEvent(t));break;case"keyUp":this.dispatchKeyUp(this._toCanvasKeyBoardEvent(t))}}},{key:"dispatchMouseDown",value:function(t){}},{key:"dispatchMouseUp",value:function(t){}},{key:"dispatchMouseMove",value:function(t){}},{key:"dispatchMouseDrag",value:function(t){}},{key:"dispatchKeyPress",value:function(t){}},{key:"dispatchKeyDown",value:function(t){}},{key:"dispatchKeyUp",value:function(t){}},{key:"_viewportToCanvasCoordinate",value:function(t){if(this.canvas){var e=this.canvas.getBoundingClientRect();if("mousedown"===t.type&&console.log("boundingClientRect: ".concat(JSON.stringify(e),",clientX: ").concat(t.clientX,", clientY: ").concat(t.clientY)),t.target){var n=0,i=0,s=0,a=0,o=window.getComputedStyle(t.target),r=o.borderLeftWidth;null!==r&&(n=parseInt(r,10)),null!==(r=o.borderTopWidth)&&(i=parseInt(r,10)),null!==(r=o.paddingLeft)&&(s=parseInt(r,10)),null!==(r=o.paddingTop)&&(a=parseInt(r,10));var u=t.clientX-e.left-n-s,c=t.clientY-e.top-i-a;return y.create(u,c)}throw new Error("canvas is null.")}throw new Error("canvas is null.")}},{key:"_toCanvasMouseEvent",value:function(t){var e=t,n=this._viewportToCanvasCoordinate(e);return new p(n,e.button,e.altKey,e.ctrlKey,e.shiftKey)}},{key:"_toCanvasKeyBoardEvent",value:function(t){var e=t;return new k(e.key,e.keyCode,e.repeat,e.altKey,e.ctrlKey,e.shiftKey)}},{key:"_handleTimers",value:function(t){if(console.log("\u5b9a\u65f6\u5668"),!(this.timers.length<=0))for(var e=0;e<this.timers.length;++e){var n=this.timers[e];!1!==n.enabled&&(n.countdown-=t,n.countdown<=0&&(n.callback(n.id,n.callbackData),!1===n.onlyOnce?n.countdown=n.timeout:n.enabled=!1))}}},{key:"addTimer",value:function(t){for(var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,a=0;a<this.timers.length;a++){var o=this.timers[a];if(!1===o.enabled)return o.callback=t,o.callbackData=s,o.timeout=n,o.countdown=n,o.enabled=!0,o.onlyOnce=i,o.id}return(e=new d(t)).callbackData=s,e.timeout=n,e.countdown=n,e.enabled=!0,e.onlyOnce=i,e.id=++this._timerId,this.timers.push(e),e.id}},{key:"removeTimer",value:function(t){for(var e=!1,n=0;n<this.timers.length;n++)if(this.timers[n].id===t){this.timers[n].enabled=!1,e=!0;break}return e}},{key:"fps",get:function(){return this._fps}}]),t}()),b=function(){function t(){Object(u.a)(this,t)}return Object(c.a)(t,null,[{key:"createInstance",value:function(t,e){return new t(e)}}]),t}(),m=function(t,e,n,i){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"red";null!==t&&(t.save(),t.fillStyle=s,t.beginPath(),t.arc(e,n,i,0,2*Math.PI),t.fill(),t.restore())},w=function(t,e,n,i,s){null!==t&&(t.beginPath(),t.moveTo(e,n),t.lineTo(i,s),t.stroke())},O=n(16),E=n(17),_=n(18),x=function(){function t(){Object(u.a)(this,t)}return Object(c.a)(t,null,[{key:"Sum",value:function(t){try{return Object(O.a)(t)}catch(e){return-1}}},{key:"GetAverage",value:function(t){try{return Object(E.a)(t)}catch(e){return-1}}},{key:"Sqrt",value:function(t){return Math.sqrt(t)}},{key:"Clamp",value:function(t,e,n){return Object(_.a)(t,e,n)}},{key:"Absf",value:function(t){return Math.abs(t)}}]),t}(),M=function(){function t(e,n){Object(u.a)(this,t),this.x=void 0,this.y=void 0,this.x=e||0,this.y=n||0}return Object(c.a)(t,[{key:"clone",value:function(){return new t(this.x,this.y)}},{key:"set",value:function(t,e){this.x=t,this.y=e}},{key:"equal",value:function(t){return t.x==this.x&&t.y==this.y}},{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this}},{key:"scale",value:function(t){this.x*=t,this.y*=t}},{key:"scaleAndAdd",value:function(t,e){this.x+=t.x*e,this.y+=t.y*e}},{key:"sub",value:function(t){return this.x-=t.x,this.y-=t.y,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"len",value:function(){return x.Sqrt(this.lenSquare())}},{key:"lenSquare",value:function(){return this.x*this.x+this.y*this.y}},{key:"normalize",value:function(){var t=this.len();return this.x/=t,this.y/=t,this}},{key:"distance",value:function(t){return x.Sqrt(this.distanceSquare(t))}},{key:"distanceSquare",value:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n}},{key:"negate",value:function(){this.x=-this.x,this.y=-this.y}}],[{key:"lerp",value:function(e,n,i){var s=1-i,a=new t(0,0);return a.x=s*e.x+i*n.x,a.y=s*e.y+i*n.y,a}}]),t}(),j=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(t){var i;return Object(u.a)(this,n),(i=e.call(this,t)).bezier=void 0,i.point=void 0,i.perFrame=void 0,i.direction=void 0,i.progress=void 0,i.bezier=new v,i.point=new M(40,40),i.perFrame=2e3,i.direction=!0,i.progress=0,i}return Object(c.a)(n,[{key:"Render",value:function(){this.drawBackground(),this.drawText("Solvarg")}},{key:"drawText",value:function(t){if(null!==this.context2D){var e=this.context2D;!function(t,e,n,i){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#fff",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"left",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"middle",r=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"14px sans-serif";null!==t&&(t.save(),t.textAlign=a,t.textBaseline=o,t.font=r,t.fillStyle=s,t.fillText(e,n,i),t.restore())}(e,t,.5*e.canvas.width,.5*e.canvas.height,"#000","center","middle","140px sans-serif")}}},{key:"drawBackground",value:function(){var t=this.context2D;null!==t&&(t.lineWidth=10,t.strokeRect(75,100,200,200),t.fillRect(325,100,200,200),t.clearRect(0,0,t.canvas.width,t.canvas.height),m(t,this.point.x,this.point.y,10,"green"),function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;if(null!==t){t.save(),t.strokeStyle=e,t.lineWidth=.5;for(var i=n+.5;i<t.canvas.width;i+=n)w(t,i,0,i,t.canvas.height);for(var s=n+.5;s<t.canvas.height;s+=n)w(t,0,s,t.canvas.width,s);t.restore()}}(t,"#333",15),m(t,200,200,80,"rgb("+255*this.progress+","+(255-255*this.progress)+",100)"))}},{key:"Update",value:function(t,e){this.direction=0===(t/this.perFrame&1),this.progress=t%this.perFrame/this.perFrame,this.direction||(this.progress=1-this.progress);var n=this.bezier.Bezier(this.progress,[new M(.86,0),new M(.07,1),new M(.52,.52),new M(.74,.32)]);this.point.x=800*n.x+60,this.point.y=600*n.y+60}},{key:"dispatchMouseDown",value:function(t){console.log("\u9f20\u6807\u6309\u4e0b",t)}},{key:"dispatchKeyPress",value:function(t){console.log("\u6309\u952e",t)}}]),n}(g),S=function(){function t(){Object(u.a)(this,t),this.canvas=void 0,this.app=void 0,this.run.bind(this),this.canvas=document.getElementById("canvas")}return Object(c.a)(t,[{key:"run",value:function(){null!==this.canvas&&(this.app=b.createInstance(j,this.canvas),this.app.addTimer((function(t,e){console.log(e)}),3,!1,{a:1}),this.app.start())}}]),t}(),T=Object(s.jsx)("div",{className:"playground",children:Object(s.jsx)("canvas",{id:"canvas"})});o.a.render(T,document.getElementById("root")),(new S).run(),r()}},[[15,1,2]]]);
//# sourceMappingURL=main.6c2d10ea.chunk.js.map